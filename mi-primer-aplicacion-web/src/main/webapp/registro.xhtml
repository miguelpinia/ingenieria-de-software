<ui:composition template="/WEB-INF/facelets/templates/layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

  <ui:define name="content">
    <div class="jumbotron">
      <div class="container">
        <h1>Formulario de registro</h1> <br/>

        <h:form id="altaForm" enctype="multipart/form-data">
          <table>
            <tr>
              <td><p:messages id="messages" autoUpdate="true" closable="true" /></td>
            </tr>
          </table>
          <table>
            <tr>
              <td>Usuario</td>
              <td><p:inputText value="#{registerController.usuario}" required="true" id="Username" size="20"/></td>
            </tr>
            <tr>
              <td>Nombre</td>
              <td><p:inputText value="#{registerController.nombre}" required="true" id="Name" size="20"/></td>
            </tr>
            <tr>
              <td>Correo</td>
              <td>
                <p:inputText value="#{registerController.correo}" required="true" id="email" size="20"
                             validatorMessage="El correo no es valido">
                  <f:validateRegex pattern="[\w\.-_]*[a-zA-Z0-9_]@ciencias\.unam\.mx" />
                </p:inputText>
                <p:message for="email" id="emailMsg"/>
              </td>
            </tr>
            <tr>
              <td>Contraseña</td>
              <td><p:password value="#{registerController.contraseña}" required="true" feedback="true" id="Password" size="20"/></td>
            </tr>
            <tr>
              <td>Confirmar Contraseña</td>
              <td><p:password value="#{registerController.confirmacion}" required="true" feedback="true" id="ConfirmPassword" size="20"/></td>
            </tr>
            <tr>
              <td>Fotografía</td>
              <td><p:fileUpload value="#{registerController.fotografia}" mode="simple" skinSimple="true"
                                fileUploadListener="#{registerController.fileUploadListener}"/></td>
            </tr>
            <tr>
              <td colspan="2" align="center">
                <p:commandButton action="#{registerController.addUser}" value="Registrar" ajax="false"/>
              </td>
              <td>
                <p:commandButton value="Reset" update="altaForm" process="@this"  >
                  <p:resetInput target="altaForm" />
                </p:commandButton>
              </td>
            </tr>
          </table>
        </h:form>

      </div>
    </div>
  </ui:define>

</ui:composition>
